{"title":"微信小程序快速上手教程-2","date":"2019-06-27T03:49:00.000Z","date_formatted":{"ll":"Jun 27, 2019","L":"06/27/2019","MM-DD":"06-27"},"link":"/course-wechat-2","comments":true,"tags":["微信小程序"],"categories":["Learning"],"updated":"2021-02-27T13:48:40.059Z","content":"<p>  第二节内容主要为微信小程序中的基本事件处理以及常用API使用。<br>\n本节学习内容主要有：</p>\n<ul>\n<li>点击事件</li>\n<li>wx.showToast()</li>\n<li>列表渲染、条件渲染</li>\n<li>setData()</li>\n<li>wx.showModal()</li>\n<li>wx.setClipboardData()</li>\n<li>weui框架简单学习</li>\n</ul>\n <span id=\"more\"></span>\n<h1 id=\"教程（二）-事件处理及api学习\">教程（二）-事件处理及API学习<a title=\"#教程（二）-事件处理及api学习\" href=\"#教程（二）-事件处理及api学习\"></a></h1>\n<h2 id=\"一、本期简介\">一、本期简介<a title=\"#一、本期简介\" href=\"#一、本期简介\"></a></h2>\n<p>  上一期教程为大家打开了微信小程序入坑的大门，主要停留在原生视图层（wxml，wxss），这一期我们开始学习小程序中的事件处理，以及微信提供的几个常用API学习，也就是js了。最后再简单讲讲如何使用小程序UI框架之weui。<br>\n  学习事件处理的过程中，我会将视图层的高级用法一并讲了：列表渲染和条件渲染；<br>\n  对于这几个基础API的学习，我都会讲如何去读官方文档，授人以渔嘛，以后自己学其他的框架或者什么技术，尽量去读官方文档，官方文档才是最准确的。</p>\n<h2 id=\"二、点击事件+wx.showtoast()\">二、点击事件+wx.showToast()<a title=\"#二、点击事件+wx.showtoast()\" href=\"#二、点击事件+wx.showtoast()\"></a></h2>\n<ul>\n<li>举栗子<br>\n直接看点击事件代码。该程序作用点击按钮显示一个Toast提示。</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--index.wxml--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">bindtap</span>=<span class=\"string\">&#x27;show&#x27;</span>&gt;</span>添加<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**index.wxss**/</span></span><br><span class=\"line\"><span class=\"selector-tag\">button</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//index.js</span></span><br><span class=\"line\">Page(&#123;</span><br><span class=\"line\">  data: &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">//事件处理函数</span></span><br><span class=\"line\">  show: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    wx.showToast(&#123;</span><br><span class=\"line\">      title: <span class=\"string\">&#x27;按钮被点击了&#x27;</span>,</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p><strong>效果</strong> ：<br>\n<img src=\"../images/20190714165632.jpg\" alt=\"image\"></p>\n</li>\n<li>\n<p><strong>代码解析</strong></p>\n<ul>\n<li>\n<p>页面很简单，就一个按钮，宽度是页面的50%。通过 <strong>bindtap</strong> 绑定了一个点击事件 <strong>show</strong> 。</p>\n</li>\n<li>\n<p>由代码可见，事件的定义的格式是 <strong>事件名：function(参数){ 事件处理 }</strong></p>\n</li>\n<li>\n<p>wx.showToast()：显示消息提示框。<br>\n  官方文档地址：<a href=\"https://developers.weixin.qq.com/miniprogram/dev/api/ui/interaction/wx.showToast.html\" target=\"_blank\">https://developers.weixin.qq.com/miniprogram/dev/api/ui/interaction/wx.showToast.html</a><br>\n  打开官方文档，我们左侧可以看见wx.showToast属于界面交互API。右侧则是对该API的详细介绍：作用、参数。showToast的参数是一个对象，还记得我们上一期提过的对象怎么写吗？就是一对大括号，内写一对对的属性和值。如本栗子 <strong>{ title: ‘按钮被点击了’ }</strong> 。<br>\n  再看看下面就是这个参数对象规定了有哪些详细的属性，以及这些属性的类型、默认值、是不是必须得以及作用。其中title属性是必须的，而且title的类型是字符串，作用就是用于显示的内容。本栗子也只用了这一个必需属性。其他没用到的属性有些是有默认值的，如icon属性，是显示提示的图标，默认是显示success图标（√），提示显示的时长duration是1500毫秒。本栗子可以改成 <strong>{ title: ‘按钮被点击了’ , duration: 2000}</strong> ，这样提示信息就回显示2秒。<br>\n<img src=\"../images/20190714171706.jpg\" alt=\"image\"></p>\n<p>文档下方还有其他介绍，如参数属性的特定值、实例代码和注意事项。实例代码就是用来复制粘贴的haha^-^<br>\n<img src=\"../images/20190714173049.jpg\" alt=\"image\"></p>\n</li>\n<li>\n<p><strong>注意</strong> ：官方文档是用来参考的，一些参数不用特意去记，很多参数平时都用不到，只要记住有这么个API可用，当然记不住也没关系，用度娘问问就是了。一些常用的API多用几次自然能记点点用法。</p>\n</li>\n</ul>\n</li>\n<li>\n<p>扩展<br>\n长按事件：bindlongtap</p>\n</li>\n</ul>\n<h2 id=\"三、列表渲染、条件渲染\">三、列表渲染、条件渲染<a title=\"#三、列表渲染、条件渲染\" href=\"#三、列表渲染、条件渲染\"></a></h2>\n<ul>\n<li>上栗子</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--index.wxml--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- 列表渲染示例 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&#x27;h1&#x27;</span>&gt;</span>列表渲染<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;name&#125;&#125;&quot;</span> <span class=\"attr\">wx:for-index</span>=<span class=\"string\">&quot;i&quot;</span> <span class=\"attr\">wx:for-item</span>=<span class=\"string\">&quot;item&quot;</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;i&quot;</span>&gt;</span></span><br><span class=\"line\">    这是第&#123;&#123;i&#125;&#125;个名字：<span class=\"tag\">&lt;<span class=\"name\">text</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- 嵌套渲染示例 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&#x27;h1&#x27;</span>&gt;</span>列表嵌套渲染<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;user&#125;&#125;&quot;</span> <span class=\"attr\">wx:for-index</span>=<span class=\"string\">&quot;i&quot;</span> <span class=\"attr\">wx:for-item</span>=<span class=\"string\">&quot;item&quot;</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;i&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&#x27;h2&#x27;</span>&gt;</span>这是第 &#123;&#123;i&#125;&#125; 个数组<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;item&#125;&#125;&quot;</span> <span class=\"attr\">wx:for-index</span>=<span class=\"string\">&quot;j&quot;</span> <span class=\"attr\">wx:for-item</span>=<span class=\"string\">&quot;inItem&quot;</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;j&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&#x27;inItem&#x27;</span>&gt;</span>内层第 &#123;&#123;j&#125;&#125; 个名字：<span class=\"tag\">&lt;<span class=\"name\">text</span>&gt;</span>&#123;&#123;inItem&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- 条件渲染示例 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&#x27;h1&#x27;</span>&gt;</span>条件渲染<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:if</span>=<span class=\"string\">&quot;&#123;&#123;true&#125;&#125;&quot;</span>&gt;</span>1111111111111111<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:if</span>=<span class=\"string\">&quot;&#123;&#123;false&#125;&#125;&quot;</span>&gt;</span>222222222222222<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">hidden</span>=<span class=\"string\">&quot;&#123;&#123;true&#125;&#125;&quot;</span>&gt;</span>333333333333333<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">hidden</span>=<span class=\"string\">&quot;&#123;&#123;false&#125;&#125;&quot;</span>&gt;</span>444444444444444<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//index.js</span></span><br><span class=\"line\">Page(&#123;</span><br><span class=\"line\">  data: &#123;</span><br><span class=\"line\">    <span class=\"comment\">//列表渲染演示数据</span></span><br><span class=\"line\">    name: [<span class=\"string\">&quot;张三&quot;</span>, <span class=\"string\">&quot;汤姆&quot;</span>, <span class=\"string\">&quot;程咬金&quot;</span>],</span><br><span class=\"line\">    <span class=\"comment\">//嵌套渲染演示数据</span></span><br><span class=\"line\">    user: [</span><br><span class=\"line\">      [<span class=\"string\">&quot;张三1&quot;</span>, <span class=\"string\">&quot;汤姆1&quot;</span>, <span class=\"string\">&quot;程咬金1&quot;</span>],</span><br><span class=\"line\">      [<span class=\"string\">&quot;张三2&quot;</span>, <span class=\"string\">&quot;汤姆2&quot;</span>, <span class=\"string\">&quot;程咬金2&quot;</span>],</span><br><span class=\"line\">      [<span class=\"string\">&quot;张三3&quot;</span>, <span class=\"string\">&quot;汤姆3&quot;</span>, <span class=\"string\">&quot;程咬金3&quot;</span>]</span><br><span class=\"line\">    ],</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**index.wxss**/</span></span><br><span class=\"line\"><span class=\"selector-class\">.h1</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"number\">48</span>rpx;</span><br><span class=\"line\">  <span class=\"attribute\">line-height</span>: <span class=\"number\">80</span>rpx;</span><br><span class=\"line\">  <span class=\"attribute\">font-weight</span>: <span class=\"number\">700</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.h2</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"number\">38</span>rpx;</span><br><span class=\"line\">  <span class=\"attribute\">line-height</span>: <span class=\"number\">60</span>rpx;</span><br><span class=\"line\">  <span class=\"attribute\">font-weight</span>: <span class=\"number\">600</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">view text&#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: red;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.inItem</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">margin-left</span>: <span class=\"number\">50</span>rpx;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p><strong>效果</strong> ：<br>\n<img src=\"../images/20190714181342.jpg\" alt=\"image\"></p>\n</li>\n<li>\n<p><strong>代码解析</strong></p>\n<ul>\n<li>首先打开列表渲染官方文档：<a href=\"https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/list.html\" target=\"_blank\">https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/list.html</a></li>\n<li>列表渲染可理解为对数组的遍历（可说成是for循环），将数据遍历到视图代码里并有视图渲染出来。wx:for指定要遍历的数据，wx:for-index用于指定每次遍历的下标（可以理解为for(i=0;i&lt;10;i++){num[i]}中的 <strong>i</strong> ），wx:for-item用于描述每次遍历出来的变量（可理解 <strong>num[i]</strong> ），如果不指定，分别的默认值是index和item。最后wx:key是用于标识每条渲染结果的不同，其实可以不用指定，但运行时程序会有警告而不报错，一般可指定为index或者item。</li>\n<li>列表渲染的范围，是wx:for所在的容器及其内部，将本身容器及其内部元素复制。本栗子中&lt;view wx:for=“”…</view>渲染出的结果应该是：</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>  <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;0&quot;</span>&gt;</span></span><br><span class=\"line\">    这是第0个名字：<span class=\"tag\">&lt;<span class=\"name\">text</span>&gt;</span>张三<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>  <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;1&quot;</span>&gt;</span></span><br><span class=\"line\">    这是第1个名字：<span class=\"tag\">&lt;<span class=\"name\">text</span>&gt;</span>汤姆<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>  <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;2&quot;</span>&gt;</span></span><br><span class=\"line\">    这是第2个名字：<span class=\"tag\">&lt;<span class=\"name\">text</span>&gt;</span>程咬金<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>理解了列表渲染，说它for循环，再看看嵌套渲染，那么这就是多重循环了。自己理解代码，最终的渲染结果应该是：</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;0&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&#x27;h2&#x27;</span>&gt;</span>这是第 0 个数组<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;0&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&#x27;inItem&#x27;</span>&gt;</span>内层第 0 个名字：<span class=\"tag\">&lt;<span class=\"name\">text</span>&gt;</span>张三1<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;1&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&#x27;inItem&#x27;</span>&gt;</span>内层第 1 个名字：<span class=\"tag\">&lt;<span class=\"name\">text</span>&gt;</span>汤姆1<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;2&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&#x27;inItem&#x27;</span>&gt;</span>内层第 2 个名字：<span class=\"tag\">&lt;<span class=\"name\">text</span>&gt;</span>程咬金1<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;1&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&#x27;h2&#x27;</span>&gt;</span>这是第 1 个数组<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;0&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&#x27;inItem&#x27;</span>&gt;</span>内层第 0 个名字：<span class=\"tag\">&lt;<span class=\"name\">text</span>&gt;</span>张三2<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;1&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&#x27;inItem&#x27;</span>&gt;</span>内层第 1 个名字：<span class=\"tag\">&lt;<span class=\"name\">text</span>&gt;</span>汤姆2<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;2&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&#x27;inItem&#x27;</span>&gt;</span>内层第 2 个名字：<span class=\"tag\">&lt;<span class=\"name\">text</span>&gt;</span>程咬金2<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;2&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&#x27;h2&#x27;</span>&gt;</span>这是第 2 个数组<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;0&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&#x27;inItem&#x27;</span>&gt;</span>内层第 0 个名字：<span class=\"tag\">&lt;<span class=\"name\">text</span>&gt;</span>张三3<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;1&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&#x27;inItem&#x27;</span>&gt;</span>内层第 1 个名字：<span class=\"tag\">&lt;<span class=\"name\">text</span>&gt;</span>汤姆3<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;2&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&#x27;inItem&#x27;</span>&gt;</span>内层第 2 个名字：<span class=\"tag\">&lt;<span class=\"name\">text</span>&gt;</span>程咬金3<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>哎呀，看到上面渲染结果代码，知道列表渲染的作用有多大了吗？要是没有列表渲染，我们得自己手动复制粘贴，写很大一堆重复代码。</li>\n<li>最后再看一下条件渲染，官方文档地址 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/conditional.html\" target=\"_blank\">https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/conditional.html</a></li>\n<li>条件渲染：通过判断条件是否满足，从而对视图进行是否显示进行控制，这样就可以在一个页面中书写更多的业务逻辑。比如注册登录，我们可以注册登录两个界面分别写在两个view里，默认显示登录view，点击注册按钮时，将注册view显示出来，登录view隐藏。</li>\n<li>条件渲染用法很简单，通过看代码就可以看懂，结合官网文档自己看看。条件渲染也要可以嵌套条件，用法 <strong>wx:if=“条件1” … wx:elif=“条件2” … wx:else …</strong> ：如果满足条件1就执行里面的，之后不执行，否者再判断条件2。</li>\n<li>最后有个hidden也可以控制视图是否显示，它和wx:if的区别可以看条件渲染文档最底部区别介绍，通常 <strong>业务复杂用wx:if，业务单一用hidden</strong>。</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"四、setdata()\">四、setData()<a title=\"#四、setdata()\" href=\"#四、setdata()\"></a></h2>\n<ul>\n<li>又上栗子了</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--index.wxml--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- 列表渲染示例 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&#x27;h1&#x27;</span>&gt;</span>列表渲染<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;name&#125;&#125;&quot;</span> <span class=\"attr\">wx:for-index</span>=<span class=\"string\">&quot;i&quot;</span> <span class=\"attr\">wx:for-item</span>=<span class=\"string\">&quot;item&quot;</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;i&quot;</span>&gt;</span></span><br><span class=\"line\">    这是第&#123;&#123;i&#125;&#125;个名字：<span class=\"tag\">&lt;<span class=\"name\">text</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- 条件渲染示例 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&#x27;h1&#x27;</span>&gt;</span>条件渲染<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:if</span>=<span class=\"string\">&quot;&#123;&#123;isIf&#125;&#125;&quot;</span>&gt;</span>1111111111111111<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">hidden</span>=<span class=\"string\">&quot;&#123;&#123;isHidden&#125;&#125;&quot;</span>&gt;</span>444444444444444<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- 控制按钮 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">bindtap</span>=<span class=\"string\">&#x27;add&#x27;</span>&gt;</span>添加数据<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">bindtap</span>=<span class=\"string\">&#x27;changeIf&#x27;</span>&gt;</span>改变if<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">bindtap</span>=<span class=\"string\">&#x27;changeHidden&#x27;</span>&gt;</span>改变hidden<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//index.js</span></span><br><span class=\"line\">Page(&#123;</span><br><span class=\"line\">  data: &#123;</span><br><span class=\"line\">    <span class=\"comment\">//列表渲染演示数据</span></span><br><span class=\"line\">    name: [<span class=\"string\">&quot;张三&quot;</span>, <span class=\"string\">&quot;汤姆&quot;</span>, <span class=\"string\">&quot;程咬金&quot;</span>],</span><br><span class=\"line\">    isIf: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    isHidden: <span class=\"literal\">true</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">//添加数据</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">add</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> cname = <span class=\"built_in\">this</span>.data.name;</span><br><span class=\"line\">    cname.push(<span class=\"string\">&quot;强子&quot;</span>);</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.setData(&#123;</span><br><span class=\"line\">      name: cname,</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">//改变isIf值</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">changeIf</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> getisIf = <span class=\"built_in\">this</span>.data.isIf;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.setData(&#123;</span><br><span class=\"line\">      isIf: !getisIf</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">//改变isHidden值</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">changeHidden</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.setData(&#123;</span><br><span class=\"line\">      isHidden: !<span class=\"built_in\">this</span>.data.isHidden,</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**index.wxss**/</span></span><br><span class=\"line\"><span class=\"selector-class\">.h1</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">font-size</span>: <span class=\"number\">48</span>rpx;</span><br><span class=\"line\">  <span class=\"attribute\">line-height</span>: <span class=\"number\">80</span>rpx;</span><br><span class=\"line\">  <span class=\"attribute\">font-weight</span>: <span class=\"number\">700</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">view text&#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: red;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-tag\">button</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">margin-top</span>: <span class=\"number\">10</span>rpx;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>效果：<br>\n<img src=\"../images/20190715114846.jpg\" alt=\"image\"></p>\n</li>\n<li>\n<p>代码解析</p>\n<ul>\n<li>\n<p>官方文档 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html\" target=\"_blank\">https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html</a><br>\n<img src=\"../images/20190723114333.jpg\" alt=\"image\"></p>\n</li>\n<li>\n<p>setData()是Page对象中的一个方法，这是在微信小程序写业务逻辑用得比较多，比如我们一个网络请求获取一个新闻列表数据，我们需要把获取到数据渲染到页面上去，我就可以通过setData()将数据传个this.data中的新闻列表，页面检测到this.data变更后，会自动将页面重新渲染。</p>\n</li>\n<li>\n<p>本例中，是直接写了一个数据“强子”，将这个数据通过js数组的push方法，在数组尾部加入一个元素。add方法的解释：</p>\n</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//添加数据</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">add</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//声明一个变量cname，并将this.data.name的值赋值给它</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> cname = <span class=\"built_in\">this</span>.data.name;<span class=\"comment\">// cname = [&quot;张三&quot;, &quot;汤姆&quot;, &quot;程咬金&quot;]</span></span><br><span class=\"line\">  <span class=\"comment\">//尾部加入一个元素</span></span><br><span class=\"line\">  cname.push(<span class=\"string\">&quot;强子&quot;</span>);<span class=\"comment\">// cname = [&quot;张三&quot;, &quot;汤姆&quot;, &quot;程咬金&quot;, &quot;强子&quot;]</span></span><br><span class=\"line\">  <span class=\"comment\">//调用setData方法，将this.data.name 替换成 cname</span></span><br><span class=\"line\">  <span class=\"built_in\">this</span>.setData(&#123;</span><br><span class=\"line\">    name: cname,   <span class=\"comment\">//name（要替换的数据名）: cname （新的值）</span></span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li><strong>let</strong> 是js的ES6语法，用法与var差不多，都是声明变量，具体区别可以看我博客关于这个的文章。setData()一般传入一个参数即可，这个参数是一个对象，对象内可以写多个属性（键值对），也就是说可以同时改变多个this.data的中的值。</li>\n<li>之后的改变isIf值的例子，和上面add例子差不多，只是isIf值是布尔值，改变真假的运算（！取反运算）在setData()内部计算的。一般而言，简单表达式计算可以这样做，显得简洁，但复杂的运算不能这样做，容易出错。点击改变if的按钮，“11111”的字符串会隐藏，再点一次出现。</li>\n<li>最后改变isHidden值，和改变isIf的例子一样，把中间变量也省了。作用也是一样的。</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"五、wx.showmodal()、wx.setclipboarddata()\">五、wx.showModal()、wx.setClipboardData()<a title=\"#五、wx.showmodal()、wx.setclipboarddata()\" href=\"#五、wx.showmodal()、wx.setclipboarddata()\"></a></h2>\n<ul>\n<li>栗子又来</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--index.wxml--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- 列表渲染示例 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&#x27;h1&#x27;</span>&gt;</span>列表渲染<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;name&#125;&#125;&quot;</span> <span class=\"attr\">wx:for-index</span>=<span class=\"string\">&quot;i&quot;</span> <span class=\"attr\">wx:for-item</span>=<span class=\"string\">&quot;item&quot;</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;i&quot;</span>&gt;</span></span><br><span class=\"line\">    这是第&#123;&#123;i&#125;&#125;个名字：<span class=\"tag\">&lt;<span class=\"name\">text</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- 控制按钮 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">bindtap</span>=<span class=\"string\">&#x27;doModal&#x27;</span>&gt;</span>Modal<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- 复制演示 --&gt;</span></span><br><span class=\"line\">  &lt;view</span><br><span class=\"line\">    bindtap=&#x27;copyEmail&#x27;</span><br><span class=\"line\">    style=&#x27;margin-top:50rpx;text-align:center;&#x27;&gt;</span><br><span class=\"line\">    邮箱：abc@example.com（点击复制）</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//index.js</span></span><br><span class=\"line\">Page(&#123;</span><br><span class=\"line\">  data: &#123;</span><br><span class=\"line\">    <span class=\"comment\">//列表渲染演示数据</span></span><br><span class=\"line\">    name: [<span class=\"string\">&quot;张三&quot;</span>, <span class=\"string\">&quot;汤姆&quot;</span>, <span class=\"string\">&quot;程咬金&quot;</span>],</span><br><span class=\"line\">    isIf: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    isHidden: <span class=\"literal\">true</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">//显示modal</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">doModal</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    wx.showModal(&#123;</span><br><span class=\"line\">      title: <span class=\"string\">&#x27;用户组&#x27;</span>,</span><br><span class=\"line\">      content: <span class=\"built_in\">this</span>.data.name.toString(),</span><br><span class=\"line\">      showCancel: <span class=\"literal\">false</span></span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">//复制邮箱到粘贴板</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">copyEmail</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    wx.setClipboardData(&#123;</span><br><span class=\"line\">      data: <span class=\"string\">&#x27;abc@example.com&#x27;</span>,</span><br><span class=\"line\">      success: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">        wx.showToast(&#123;</span><br><span class=\"line\">          title: <span class=\"string\">&#x27;复制成功！&#x27;</span>,</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>效果：<br>\n<img src=\"../images/20190715140353.jpg\" alt=\"image\"></p>\n</li>\n<li>\n<p>代码解析</p>\n<ul>\n<li>\n<p>官方文档：<br>\n1.wx.showModal()：<a href=\"https://developers.weixin.qq.com/miniprogram/dev/api/ui/interaction/wx.showModal.html\" target=\"_blank\">https://developers.weixin.qq.com/miniprogram/dev/api/ui/interaction/wx.showModal.html</a><br>\n2.wx.setClipboardData()：<a href=\"https://developers.weixin.qq.com/miniprogram/dev/api/device/clipboard/wx.setClipboardData.html\" target=\"_blank\">https://developers.weixin.qq.com/miniprogram/dev/api/device/clipboard/wx.setClipboardData.html</a></p>\n</li>\n<li>\n<p>看到官方文档，这个API的使用和wx.showToast差不多，都是传入一个对象参数。看下面对象规定的介绍，我们可以控制显示的标题、内容、按钮等内容。其中常用的就是红框内的和success回调函数。具体怎么用，看完本例子，相信大家都应该能会了。唯一需要解释的就是，content属性必须是string类型，本例子中让其显示数组，则需要进行转换，就用了js数组的toString()方法，将数组转换成以逗号隔开的字符串。<strong>切记：看文档主要就是看字段名和规定类型，调用失败时首先检查的就是字段名有没有写错，数值类型对不对。</strong> 最后，关于success回调函数的使用，参考官方文档下面的示例。<br>\n<img src=\"../images/20190723141321.jpg\" alt=\"image\"></p>\n</li>\n<li>\n<p>wx.setClipboardData()是设备API类里的，可见左侧，我们可以通过此类API获取用户设备的信息，如手机电量信息，具体底层微信团队是怎么实现的我们不用管，我们学会怎么用他们提供的API就行了。本次介绍的控制用户设备剪贴板的API也是比较常用的，我们可以让用户点击某些东西，直接将数据写到用户的剪贴板，这样用户就不用来回切换程序手动记录，比如联系信息类的。本例子的作用是点击复制邮箱，结合了showToast一起，用于提示。传入值依然是一个对象，其中data字段是必须的，这是复制过去的数据。另外还有个API是获取用户剪贴板内容，wx.getClipboardData()，自学。<br>\n<img src=\"../images/20190723142508.jpg\" alt=\"iamge\"></p>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"六、weui框架简单学习\">六、weui框架简单学习<a title=\"#六、weui框架简单学习\" href=\"#六、weui框架简单学习\"></a></h2>\n<p>  weui框架是微信的一套UI框架，也就是我们在微信里常见到的“微信绿”。这是我学习的第一个微信小程序框架，比较熟悉一点，就先用这个给大家介绍如何在小程序里使用框架。另外还有iview、colorUI、taro、minUI、wux等好看的UI框架。，一般一个项目只用一个框架，多个框架一起使用 <strong>很容易出错，出一些莫名奇妙的错</strong>，建议大家以后分别看看每个框架的样式，觉得哪个好看就学哪个吧，自学嘻嘻嘻。<br>\n  框架学习我们还是要看官方文档的，他们会写好怎么引用，还有很多例子。</p>\n<ul>\n<li>\n<p>weui样例示范：<img src=\"../images/29502325-ada080f6-8661-11e7-94c2-23d638210f45.jpg\" alt=\"image\"></p>\n</li>\n<li>\n<p>weui介绍文档：<a href=\"https://github.com/Tencent/weui-wxss/\" target=\"_blank\">https://github.com/Tencent/weui-wxss/</a></p>\n</li>\n</ul>\n<h3 id=\"6.1-框架下载和配置\">6.1 框架下载和配置<a title=\"#6.1-框架下载和配置\" href=\"#6.1-框架下载和配置\"></a></h3>\n<p>  打开weui的github项目地址<a href=\"https://github.com/Tencent/weui-wxss/\" target=\"_blank\">https://github.com/Tencent/weui-wxss/</a>，点击Download ZIP。<br>\n<img src=\"../images/20190723170701.jpg\" alt=\"image\"></p>\n<p>解压下载的zip文件，打开目录weui-wxss-master/dist/style，复制weui.wxss到我们的微信小程序根目录下。<br>\n<img src=\"../images/20190723171645.jpg\" alt=\"image\"></p>\n<p>打开开发工具，并在app.wxss中添加一行，引weui.wxss。<br>\n<img src=\"../images/20190723173646.jpg\" alt=\"image\"></p>\n<h3 id=\"6.2-框架的使用\">6.2 框架的使用<a title=\"#6.2-框架的使用\" href=\"#6.2-框架的使用\"></a></h3>\n<ul>\n<li>\n<p>用开发工具，导入项目，项目目录选择weui-wxss-master/dist，appid点测试号就行，等待导入编译成功；</p>\n</li>\n<li>\n<p>我们可以在左侧点击表单，点击button看看weui提供的按钮样式（也可以用手机扫上面小程序预览）；</p>\n</li>\n<li>\n<p>项目example目录下找到button/button.wxml，查看代码；<br>\n<img src=\"../images/20190724085308.jpg\" alt=\"image\"></p>\n</li>\n<li>\n<p>选择我们想要的样式，复制到我们的项目里；<br>\n<img src=\"../images/20190724085528.jpg\" alt=\"image\"></p>\n</li>\n<li>\n<p>这样就算是我们成功用上了框架提供的样式了，对于这些样式，我们如果不满意，我们还可以在其基础上进行修改。如按钮默认宽度几乎与页面一样宽了，我们可以在本页面所属的wxss里进行样式重写，因为本页面的wxss是优先级是高于外部引入的weui.wxss，所以我们不必担心会不会与原样式会不会冲突。如上图，由于我们之前演示例子是，将按钮宽度定义为了50%，所以上面Modal按钮并没有那么宽。</p>\n</li>\n</ul>\n<h2 id=\"七、结束语\">七、结束语<a title=\"#七、结束语\" href=\"#七、结束语\"></a></h2>\n<p>  本期讲的容有点多，但花一天时间慢慢鼓捣，应该都能弄懂。这些都是小程序常用，对于速成很实用。下面我将列一些其他常用API，希望大家能通过官方文档先自学，下一期我会选择性的讲。</p>\n<ul>\n<li><a href=\"https://developers.weixin.qq.com/miniprogram/dev/api/storage/wx.setStorage.html\" target=\"_blank\">wx.setStorage</a></li>\n<li><a href=\"https://developers.weixin.qq.com/miniprogram/dev/api/storage/wx.getStorage.html\" target=\"_blank\">wx.getStorage</a></li>\n<li><a href=\"https://developers.weixin.qq.com/miniprogram/dev/api/storage/wx.setStorageSync.html\" target=\"_blank\">wx.setStorageSync</a></li>\n<li><a href=\"https://developers.weixin.qq.com/miniprogram/dev/api/storage/wx.getStorageSync.html\" target=\"_blank\">wx.getStorageSync</a></li>\n<li><a href=\"https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.redirectTo.html\" target=\"_blank\">wx.redirectTo</a></li>\n<li><a href=\"https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.navigateTo.html\" target=\"_blank\">wx.navigateTo</a></li>\n<li><a href=\"https://developers.weixin.qq.com/miniprogram/dev/api/network/request/wx.request.html\" target=\"_blank\">wx.request</a></li>\n</ul>\n<p>链接：<a href=\"https://www.zzboy.cn/post/course-wechat-3\" target=\"_blank\">微信小程序快速上手教程-3</a></p>\n","prev":{"title":"RN学习-实习","link":"Learning/2a8bd95062b1"},"next":{"title":"微信小程序快速上手教程-1","link":"/course-wechat-1"},"plink":"https://www.zzboy.cn//course-wechat-2/","toc":[{"id":"教程（二）-事件处理及api学习","title":"教程（二）-事件处理及API学习","index":"1","children":[{"id":"一、本期简介","title":"一、本期简介","index":"1.1"},{"id":"二、点击事件+wx.showtoast()","title":"二、点击事件+wx.showToast()","index":"1.2"},{"id":"三、列表渲染、条件渲染","title":"三、列表渲染、条件渲染","index":"1.3"},{"id":"四、setdata()","title":"四、setData()","index":"1.4"},{"id":"五、wx.showmodal()、wx.setclipboarddata()","title":"五、wx.showModal()、wx.setClipboardData()","index":"1.5"},{"id":"六、weui框架简单学习","title":"六、weui框架简单学习","index":"1.6","children":[{"id":"6.1-框架下载和配置","title":"6.1 框架下载和配置","index":"1.6.1"},{"id":"6.2-框架的使用","title":"6.2 框架的使用","index":"1.6.2"}]},{"id":"七、结束语","title":"七、结束语","index":"1.7"}]}],"reward":true,"copyright":{"author":"Patrick Jun","link":"<a href=\"https://www.zzboy.cn//course-wechat-2/\" title=\"微信小程序快速上手教程-2\">https://www.zzboy.cn//course-wechat-2/</a>","license":"自由转载-非商用-禁止演绎-保持署名 (<a href=\\\"https://creativecommons.org/licenses/by-nc-sa/4.0/\\\" rel=\\\"external nofollow\\\" target=\\\"_blank\\\">CC BY-NC-ND 4.0</a>)","published":"June 27, 2019"}}