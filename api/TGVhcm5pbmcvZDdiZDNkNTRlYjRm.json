{"title":"SVN","date":"2020-05-25T07:11:47.000Z","date_formatted":{"ll":"May 25, 2020","L":"05/25/2020","MM-DD":"05-25"},"link":"Learning/d7bd3d54eb4f","comments":true,"tags":["SVN"],"categories":["Learning"],"updated":"2021-02-27T13:50:41.683Z","content":"<p>因工作需要，今天简单记录一下新了解的SVN操作</p>\n<span id=\"more\"></span>\n<h2 id=\"一、基本概念\">一、基本概念<a title=\"#一、基本概念\" href=\"#一、基本概念\"></a></h2>\n<blockquote>\n<p>之前实验室有同学学习过SVN，通过和他交流，我之前大致总结出一个整体概念：<strong>SVN相当于一个共用U盘</strong></p>\n</blockquote>\n<p>通过今天的学习了解，我对SVN整理的概念有了：它不是一个简单共用存储空间，它还有版本更改记录，可以随时回退单个文件或者整个项目到历史的某一个版本上。</p>\n<ul>\n<li>版本库：版本库就是一个项目，它会存储项目文件和修改历史</li>\n<li>检出checkout：从版本库建立一个工作副本，工作副本是个人开发空间，开发完成然后提交到版本库中</li>\n<li>更新update：从版本库获取最新代码</li>\n<li>复查变化：在提交代码前，检查变动是应该养成的良好习惯，有<code>status</code>、<code>diff</code></li>\n<li>重置更改revert：当发现本次更改或者某个文件的更改不想要了，可以进行整个工作副本重置或者单个文件重置</li>\n<li>冲突：当多个开发者对同一处代码进行修改提交时，就会产生冲突，这时候需要人为介入</li>\n<li>提交更改commit：将工作副本的更改提交到版本库，提交操作是一个原子操作，要么全部提交成成功，要么失败，不会有只成功提交一部分的更改。</li>\n</ul>\n<h2 id=\"二、基本操作\">二、基本操作<a title=\"#二、基本操作\" href=\"#二、基本操作\"></a></h2>\n<h3 id=\"创建版本库\">创建版本库<a title=\"#创建版本库\" href=\"#创建版本库\"></a></h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">svnadmin create /path/to/project01</span><br></pre></td></tr></table></figure>\n<h3 id=\"检出\">检出<a title=\"#检出\" href=\"#检出\"></a></h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">svn checkout svn://192.168.0.1/project01 --username=xxx</span><br></pre></td></tr></table></figure>\n<h3 id=\"更新\">更新<a title=\"#更新\" href=\"#更新\"></a></h3>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">svn update       #将本地代码更新到最新版本</span><br><span class=\"line\">svn update r6    #将本地代码更新到指定版本</span><br></pre></td></tr></table></figure>\n<h3 id=\"提交\">提交<a title=\"#提交\" href=\"#提交\"></a></h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">svn update   #提交前获取最新代码，及时解决冲突</span><br><span class=\"line\">svn status   #查看文件状态：?未添加到版本控制  A等待提交到版本库</span><br><span class=\"line\">svn add xxx.file   #提交当前目录下所有更改 svn add *，多层目录 svn add */**/*</span><br><span class=\"line\">svn commit -m &quot;版本备注&quot;</span><br></pre></td></tr></table></figure>\n<h3 id=\"冲突解决\">冲突解决<a title=\"#冲突解决\" href=\"#冲突解决\"></a></h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">svn update   #获取更新，会让选择保留哪个更改</span><br><span class=\"line\">Select: (p) postpone, (df) show diff, (e) edit file, (m) merge,</span><br><span class=\"line\">        (mc) my side of conflict, (tc) their side of conflict,</span><br><span class=\"line\">        (s) show all options: mc</span><br></pre></td></tr></table></figure>\n<h3 id=\"版本回退\">版本回退<a title=\"#版本回退\" href=\"#版本回退\"></a></h3>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">svn revert xxx.file   #回退单个文件</span><br><span class=\"line\">svn revert -R trunk   #回退整个目录</span><br><span class=\"line\">svn merge -r 22:21 xxx.file  #将xxx.file当前22版本回退到21版本  </span><br></pre></td></tr></table></figure>\n<h3 id=\"其他命令\">其他命令<a title=\"#其他命令\" href=\"#其他命令\"></a></h3>\n<ul>\n<li>svn log：用来展示svn 的版本作者、日期、路径等等</li>\n<li>svn diff：用来显示特定修改的行级详细信息</li>\n<li>svn cat：将特定版本的某文件显示在当前屏幕</li>\n<li>svn list：显示一个目录或某一版本存在的文件</li>\n<li>…还有一些，暂时应该用不上，就不列了，以后用到再整理</li>\n</ul>\n","prev":{"title":"来成都你必须了解的“潜规则”","link":"Life/e14dde177628"},"next":{"title":"爱了爱了async/await","link":"Learning/99cbf84d67b5"},"plink":"https://www.zzboy.cn/Learning/d7bd3d54eb4f/","toc":[{"id":"一、基本概念","title":"一、基本概念","index":"1"},{"id":"二、基本操作","title":"二、基本操作","index":"2","children":[{"id":"创建版本库","title":"创建版本库","index":"2.1"},{"id":"检出","title":"检出","index":"2.2"},{"id":"更新","title":"更新","index":"2.3"},{"id":"提交","title":"提交","index":"2.4"},{"id":"冲突解决","title":"冲突解决","index":"2.5"},{"id":"版本回退","title":"版本回退","index":"2.6"},{"id":"其他命令","title":"其他命令","index":"2.7"}]}],"reward":true,"copyright":{"author":"Patrick Jun","link":"<a href=\"https://www.zzboy.cn/Learning/d7bd3d54eb4f/\" title=\"SVN\">https://www.zzboy.cn/Learning/d7bd3d54eb4f/</a>","license":"自由转载-非商用-禁止演绎-保持署名 (<a href=\\\"https://creativecommons.org/licenses/by-nc-sa/4.0/\\\" rel=\\\"external nofollow\\\" target=\\\"_blank\\\">CC BY-NC-ND 4.0</a>)","published":"May 25, 2020"}}