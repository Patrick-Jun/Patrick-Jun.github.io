{"title":"ubuntu下安装和彻底删除mysql5.7","date":"2018-08-31T06:12:43.000Z","date_formatted":{"ll":"Aug 31, 2018","L":"08/31/2018","MM-DD":"08-31"},"link":"Learning/01437af1786e","tags":["Mysql"],"categories":["Learning"],"updated":"2021-02-27T13:47:58.484Z","content":"<h2 id=\"彻底删除mysql5.7\">彻底删除mysql5.7<a title=\"#彻底删除mysql5.7\" href=\"#彻底删除mysql5.7\"></a></h2>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo rm /var/lib/mysql/ -R </span><br></pre></td></tr></table></figure>\n<h3 id=\"--删除数据库目录\">- 删除数据库目录<a title=\"#--删除数据库目录\" href=\"#--删除数据库目录\"></a></h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo rm /etc/mysql/ -R </span><br></pre></td></tr></table></figure>\n<h3 id=\"--删除启动脚本、配置文件等\">- 删除启动脚本、配置文件等<a title=\"#--删除启动脚本、配置文件等\" href=\"#--删除启动脚本、配置文件等\"></a></h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get autoremove mysql* --purge </span><br></pre></td></tr></table></figure>\n<h3 id=\"--卸载mysql所有文件\">- 卸载mysql所有文件<a title=\"#--卸载mysql所有文件\" href=\"#--卸载mysql所有文件\"></a></h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get remove apparmor </span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>这个apparmor是在装mysql-server时装上的，和安全有关</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dpkg -l |grep ^rc|awk <span class=\"string\">&#x27;&#123;print $2&#125;&#x27;</span> |sudo xargs dpkg -P </span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>清理残余mysql文件</p>\n</blockquote>\n<h2 id=\"mysql5.7的安装\">mysql5.7的安装<a title=\"#mysql5.7的安装\" href=\"#mysql5.7的安装\"></a></h2>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install mysql-server-5.7 mysql-client-5.7</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>安装过程会提示设置mysql root用户的密码，设置完成后等待自动安装即可。默认安装完成就启动了mysql。</p>\n</blockquote>\n<h2 id=\"安装好后，查看是否安装成功：\">安装好后，查看是否安装成功：<a title=\"#安装好后，查看是否安装成功：\" href=\"#安装好后，查看是否安装成功：\"></a></h2>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo netstat -tap | grep mysql</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>如果看到有mysql 的socket处于 listen 状态则表示安装成功。</p>\n</blockquote>\n<h2 id=\"登录mysql检查和退出mysql\">登录mysql检查和退出mysql<a title=\"#登录mysql检查和退出mysql\" href=\"#登录mysql检查和退出mysql\"></a></h2>\n<p>登录：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql -uroot -p密码</span><br></pre></td></tr></table></figure>\n<p>退出：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">quit;</span><br></pre></td></tr></table></figure>\n<h2 id=\"常见命令：\">常见命令：<a title=\"#常见命令：\" href=\"#常见命令：\"></a></h2>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service mysql start <span class=\"comment\">#启动</span></span><br><span class=\"line\">mysql service mysql stop <span class=\"comment\">#关闭</span></span><br><span class=\"line\">mysql service mysql restart <span class=\"comment\">#重启mysql </span></span><br></pre></td></tr></table></figure>\n<h2 id=\"更改mysql管理密码\">更改mysql管理密码<a title=\"#更改mysql管理密码\" href=\"#更改mysql管理密码\"></a></h2>\n<p>先进入mysql程序：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql -uroot -p密码</span><br></pre></td></tr></table></figure>\n<p>然后修改mysql数据库中的user表</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt;use mysql; </span><br><span class=\"line\">mysql&gt;update user <span class=\"built_in\">set</span> password=password(<span class=\"string\">&quot;新密码&quot;</span>) <span class=\"built_in\">where</span> user=<span class=\"string\">&#x27;root&#x27;</span>; </span><br><span class=\"line\">mysql&gt;FLUSH PRIVILEGES; <span class=\"comment\">#刷新权限</span></span><br></pre></td></tr></table></figure>","prev":{"title":"phpmyadmin导入sql文件错误#1046 - No database selected","link":"Learning/0dd73d06ceeb"},"next":{"title":"php版本5.*升级7.0","link":"Learning/cd9209d16b74"},"plink":"https://www.zzboy.cn/Learning/01437af1786e/","toc":[{"id":"彻底删除mysql5.7","title":"彻底删除mysql5.7","index":"1","children":[{"id":"--删除数据库目录","title":"- 删除数据库目录","index":"1.1"},{"id":"--删除启动脚本、配置文件等","title":"- 删除启动脚本、配置文件等","index":"1.2"},{"id":"--卸载mysql所有文件","title":"- 卸载mysql所有文件","index":"1.3"}]},{"id":"mysql5.7的安装","title":"mysql5.7的安装","index":"2"},{"id":"安装好后，查看是否安装成功：","title":"安装好后，查看是否安装成功：","index":"3"},{"id":"登录mysql检查和退出mysql","title":"登录mysql检查和退出mysql","index":"4"},{"id":"常见命令：","title":"常见命令：","index":"5"},{"id":"更改mysql管理密码","title":"更改mysql管理密码","index":"6"}],"reward":true,"copyright":{"author":"Patrick Jun","link":"<a href=\"https://www.zzboy.cn/Learning/01437af1786e/\" title=\"ubuntu下安装和彻底删除mysql5.7\">https://www.zzboy.cn/Learning/01437af1786e/</a>","license":"自由转载-非商用-禁止演绎-保持署名 (<a href=\\\"https://creativecommons.org/licenses/by-nc-sa/4.0/\\\" rel=\\\"external nofollow\\\" target=\\\"_blank\\\">CC BY-NC-ND 4.0</a>)","published":"August 31, 2018"}}